<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio Manager</title>
    <link rel="stylesheet" href="dashboard.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="light">

<header class="top-bar">
    <div class="header-content">
        <h1 class="logo">
            <span class="logo-icon">üíº</span>
            <span>Portfolio Manager</span>
        </h1>

        <div class="header-stats">
            <div class="stat-pill">
                <span class="stat-label">Total Value</span>
                <strong id="totalValue" class="stat-value">$0.00</strong>
            </div>
            <div class="stat-pill">
                <span class="stat-label">Total Return</span>
                <strong id="totalReturn" class="stat-value positive">+0%</strong>
            </div>
        </div>

        <div class="header-actions">
            <button class="btn-primary" onclick="openModal()">
                <span class="btn-icon">+</span>
                Add Asset
            </button>
            <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme">
                <span class="theme-icon">üåô</span>
            </button>
        </div>
    </div>
</header>

<div class="container">
    <aside class="sidebar">
        <nav class="sidebar-nav">
            <a class="nav-link active" href="#">
                <span class="nav-icon">üìä</span>
                <span>Dashboard</span>
            </a>
            <a class="nav-link" href="index.html">
                <span class="nav-icon">üéØ</span>
                <span>Goal Setting</span>
            </a>
        </nav>
    </aside>

    <main class="content">
        <!-- Summary Cards -->
        <div class="summary-grid">
            <div class="summary-card stocks">
                <div class="summary-icon">üìà</div>
                <div class="summary-info">
                    <h4>Stocks</h4>
                    <p id="stocksValue" class="summary-value">$0.00</p>
                </div>
            </div>
            <div class="summary-card mutual-funds">
                <div class="summary-icon">üí∞</div>
                <div class="summary-info">
                    <h4>Mutual Funds</h4>
                    <p id="mfValue" class="summary-value">$0.00</p>
                </div>
            </div>
            <div class="summary-card gold">
                <div class="summary-icon">ü™ô</div>
                <div class="summary-info">
                    <h4>Gold</h4>
                    <p id="goldValue" class="summary-value">$0.00</p>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-grid">
            <div class="card chart-card">
                <div class="card-header">
                    <h3>Asset Allocation</h3>
                    <span class="card-subtitle">Distribution by type</span>
                </div>
                <div class="chart-container">
                    <canvas id="allocationChart"></canvas>
                </div>
            </div>

            <div class="card chart-card">
                <div class="card-header">
                    <h3>Performance</h3>
                    <span class="card-subtitle">Profit/Loss by asset</span>
                </div>
                <div class="chart-container">
                    <canvas id="performanceChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Holdings Table -->
        <div class="card table-card">
            <div class="card-header">
                <h3>Your Holdings</h3>
                <span class="card-subtitle">All assets in your portfolio</span>
            </div>
            <div class="table-wrapper">
                <table class="holdings-table">
                    <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Company</th>
                        <th>Quantity</th>
                        <th>Purchase Price</th>
                        <th>Current Price</th>
                        <th>Value</th>
                        <th>P/L</th>
                        <th>Actions</th>

                    </tr>
                    </thead>
                    <tbody id="holdingsTableBody">
                    <tr class="empty-state">
                        <td colspan="7">
                            <div class="empty-message">
                                <span class="empty-icon">üìä</span>
                                <p>No holdings yet. Add your first asset to get started!</p>
                            </div>
                        </td>
                        <td>
                            <button onclick="deleteHolding(HOLDING_ID)">üóëÔ∏è</button>
                        </td>

                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </main>
</div>

<!-- Add Asset Modal -->
<div id="addAssetModal" class="modal hidden">
    <div class="modal-overlay" onclick="closeModal()"></div>
    <div class="modal-content">
        <div class="modal-header">
            <h3>Add New Asset</h3>
            <button class="modal-close" onclick="closeModal()" aria-label="Close modal">&times;</button>
        </div>

        <form class="modal-form" onsubmit="event.preventDefault(); submitAsset();">
            <div class="form-group">
                <label for="symbol">Symbol</label>
                <input id="symbol" type="text" placeholder="e.g., AAPL" required>
            </div>

            <div class="form-group">
                <label for="holdingName">Company Name</label>
                <input id="holdingName" type="text" placeholder="e.g., Apple Inc." required>
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label for="quantity">Quantity</label>
                    <input id="quantity" type="number" placeholder="0" min="0.01" step="0.01" required>
                </div>

                <div class="form-group">
                    <label for="price">Purchase Price</label>
                    <input id="price" type="number" placeholder="$0.00" min="0.01" step="0.01" required>
                </div>
            </div>

            <div class="form-group">
                <label for="assetType">Asset Type</label>
                <select id="assetType" required>
                    <option value="STOCK">Stock</option>
                    <option value="MUTUAL_FUND">Mutual Fund</option>
                    <option value="GOLD">Gold</option>
                </select>
            </div>

            <div class="modal-actions">
                <button type="button" class="btn-secondary" onclick="closeModal()">Cancel</button>
                <button type="submit" class="btn-primary">Save Asset</button>
            </div>
        </form>
    </div>
</div>

<script src="dashboard.js"></script>
</body>
</html>